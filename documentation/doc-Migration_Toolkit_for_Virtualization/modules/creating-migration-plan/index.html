<!DOCTYPE html>
<html lang="en-US">
  <head>

    
    <meta charset="UTF-8">
    
    <title>Forklift Documentation</title>
    <!-- # Opengraph protocol properties: https://ogp.me/ -->
    <meta name="author" content="Forklift documentation team" >
    <meta property="og:type" content="article" >
    <meta name="twitter:card" content="summary">
    <meta name="keywords" content="" >
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
    <meta property="og:article:author" content="Forklift documentation team" >
    <meta property="og:article:published_time" content="2022-01-16 18:26:23 -0600" >
    <meta name="twitter:title" content="Forklift Documentation">
    <meta name="twitter:description" content="Migrating VMware virtual machines to KubeVirt">

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Forklift Documentation | Migrating VMware virtual machines to KubeVirt</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Forklift Documentation" />
<meta name="author" content="Forklift documentation team" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Migrating VMware virtual machines to KubeVirt" />
<meta property="og:description" content="Migrating VMware virtual machines to KubeVirt" />
<meta property="og:site_name" content="Forklift Documentation" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Forklift Documentation" />
<meta name="twitter:site" content="@konveyor_io" />
<meta name="twitter:creator" content="@Forklift documentation team" />
<script type="application/ld+json">
{"url":"/documentation/doc-Migration_Toolkit_for_Virtualization/modules/creating-migration-plan/","author":{"@type":"Person","name":"Forklift documentation team"},"@type":"WebPage","description":"Migrating VMware virtual machines to KubeVirt","headline":"Forklift Documentation","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/img/forklift-logo-darkbg.svg"},"name":"Forklift documentation team"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=c35534d584bea736bfb5eb0abda50ee5b5f2dda9">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
  </head>
  <body>
    <header class="page-header">
        
          <a href="/"><img src="/assets/img/forklift-logo-darkbg.svg" alt="Forklift Documentation" width="200" /></a><br>
        
      
        <a href="https://github.com/konveyor/forklift-documentation" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="creating-migration-plan_forklift">Creating a migration plan</h1>
<div class="paragraph">
<p>You can create a migration plan by using the Forklift web console.</p>
</div>
<div class="paragraph">
<p>A migration plan allows you to group virtual machines to be migrated together or with the same migration parameters, for example, a percentage of the members of a cluster or a complete application.</p>
</div>
<div class="paragraph">
<p>You can configure a hook to run an Ansible playbook or custom container image during a specified stage of the migration plan.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>If Forklift is not installed on the target cluster, you must add a target provider on the <strong>Providers</strong> page of the web console.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the web console, click <strong>Migration plans</strong> and then click <strong>Create migration plan</strong>.</p>
</li>
<li>
<p>Complete the following fields:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Plan name</strong>: Enter a migration plan name to display in the migration plan list.</p>
</li>
<li>
<p><strong>Plan description</strong>: Optional: Brief description of the migration plan.</p>
</li>
<li>
<p><strong>Source provider</strong>: Select a source provider.</p>
</li>
<li>
<p><strong>Target provider</strong>: Select a target provider.</p>
</li>
<li>
<p><strong>Target namespace</strong>: You can type to search for an existing target namespace or create a new namespace.</p>
</li>
<li>
<p>You can change the migration transfer network for this plan by clicking <strong>Select a different network</strong>, selecting a network from the list, and clicking <strong>Select</strong>.</p>
<div class="paragraph">
<p>If you defined a migration transfer network for the KubeVirt provider and if the network is in the target namespace, that network is the default network for all migration plans. Otherwise, the <code>pod</code> network is used.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Select options to filter the list of source VMs and click <strong>Next</strong>.</p>
</li>
<li>
<p>Select the VMs to migrate and then click <strong>Next</strong>.</p>
</li>
<li>
<p>Select an existing network mapping or create a new network mapping.</p>
<div class="paragraph">
<p>To create a new network mapping:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select a target network for each source network.</p>
</li>
<li>
<p>Optional: Select <strong>Save mapping to use again</strong> and enter a network mapping name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Select an existing storage mapping or create a new storage mapping.</p>
<div class="paragraph">
<p>To create a new storage mapping:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select a target storage class for each VMware data store or oVirt storage domain.</p>
</li>
<li>
<p>Optional: Select <strong>Save mapping to use again</strong> and enter a storage mapping name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Select a migration type and click <strong>Next</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Cold migration: The source VMs are stopped while the data is copied.</p>
</li>
<li>
<p>Warm migration: The source VMs run while the data is copied incrementally. Later, you will run the cutover, which stops the VMs and copies the remaining VM data and metadata. Warm migration is not supported for oVirt.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional: You can create a migration hook to run an Ansible playbook before or after migration:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <strong>Add hook</strong>.</p>
</li>
<li>
<p>Select the step when the hook will run.</p>
</li>
<li>
<p>Select a hook definition:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Ansible playbook</strong>: Browse to the Ansible playbook or paste it into the field.</p>
</li>
<li>
<p><strong>Custom container image</strong>: If you do not want to use the default <code>hook-runner</code> image, enter the image path: <code>&lt;registry_path&gt;/&lt;image_name&gt;:&lt;tag&gt;</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The registry must be accessible to your OKD cluster.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Review your migration plan and click <strong>Finish</strong>.</p>
<div class="paragraph">
<p>The migration plan is saved in the migration plan list.</p>
</div>
</li>
<li>
<p>Click the {kebab} of the migration plan and select <strong>View details</strong> to verify the migration plan details.</p>
</li>
</ol>
</div>

      <footer class="site-footer">
        
          <span class="site-footer-owner"><p align="center"><a href="https://github.com/konveyor/forklift-documentation">forklift-documentation</a> is maintained by <a href="https://github.com/konveyor">konveyor</a>.</p></span>
        
      </footer>
    </main>
  </body>
</html>
